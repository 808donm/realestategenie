<Page x:Class="ADMigrationTool.Views.ExecuteMigrationPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      Title="Execute Migration">

    <Grid Margin="8">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <TextBlock Grid.Row="0" Text="Execute Migration" FontSize="20" FontWeight="Bold" Margin="0,0,0,16" />

        <!-- Progress Section -->
        <Border Grid.Row="1" Style="{StaticResource CardStyle}" Margin="0,0,0,12">
            <StackPanel>
                <Grid Margin="0,0,0,8">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>
                    <TextBlock x:Name="ProgressLabel" Text="Ready to migrate" FontSize="14" />
                    <TextBlock Grid.Column="1" x:Name="ProgressPercent" Text="0%" FontSize="14" FontWeight="Bold" />
                </Grid>
                <ProgressBar x:Name="MigrationProgress" Height="24" Minimum="0" Maximum="100" Value="0" />
                <TextBlock x:Name="CurrentOperation" Text="" Foreground="Gray" Margin="0,4,0,0" />
            </StackPanel>
        </Border>

        <!-- Log Output -->
        <Border Grid.Row="2" BorderBrush="#e0e0e0" BorderThickness="1" CornerRadius="4">
            <ListBox x:Name="LogOutput" Background="#1e1e1e" Foreground="#d4d4d4"
                     FontFamily="Consolas" FontSize="12" BorderThickness="0">
                <ListBox.ItemTemplate>
                    <DataTemplate>
                        <TextBlock Text="{Binding}" TextWrapping="Wrap" />
                    </DataTemplate>
                </ListBox.ItemTemplate>
            </ListBox>
        </Border>

        <!-- Action Buttons -->
        <StackPanel Grid.Row="3" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,12,0,0">
            <Button x:Name="DryRunButton" Content="Dry Run" Padding="16,8" Margin="0,0,8,0"
                    Click="DryRun_Click" />
            <Button x:Name="StartButton" Content="Start Migration" Padding="16,8" Margin="0,0,8,0"
                    Click="Start_Click" Style="{StaticResource PrimaryButtonStyle}" />
            <Button x:Name="PauseButton" Content="Pause" Padding="16,8" Margin="0,0,8,0"
                    Click="Pause_Click" IsEnabled="False" />
            <Button x:Name="CancelButton" Content="Cancel" Padding="16,8"
                    Click="Cancel_Click" IsEnabled="False" />
        </StackPanel>
    </Grid>
</Page>
